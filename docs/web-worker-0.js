var e=function(){function e(){}return e.formatEvent=function(e){var t=Date.now();return{type:"click",time:t,after:t-e.startDate,data:{position:{screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,x:e.x,y:e.y,offsetX:e.offsetX,offsetY:e.offsetY},keys:{ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey},elements:{target:e.target}}}},e}(),t=function(){function e(){}return e.formatEvent=function(e){return{type:"performance",time:Date.now(),data:{timing:e.timing,navigation:e.navigation,memory:e.memory}}},e}(),n=function(){function e(){}return e.formatEvent=function(e){var t=Date.now();return{type:"mouseExit",time:t,after:t-e.startDate,data:{position:{screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,x:e.x,y:e.y,offsetX:e.offsetX,offsetY:e.offsetY},keys:{ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey},elements:{fromElement:e.fromElement}}}},e}(),a=function(){function e(){}return e.formatEvent=function(e){var t=Date.now(),n=e.event,a=n.anchorNode,s=n.anchorOffset,o=n.focusNode,f=n.focusOffset,r=n.baseNode,i=n.baseOffset,c=n.extentNode,m=n.extentOffset;return a.offset=s,o.offset=f,r.offset=i,c.offset=m,{type:"selection",time:t,after:t-e.startDate,text:e.selection,data:{elements:{anchorNode:a,focusNode:o,baseNode:r,extentNode:c}}}},e}();new function(){var s=this;this.textDecoder=new TextDecoder,this.onMessage=function(o){var f,r=o.data,i=r.type,c=r.event,m=JSON.parse(s.textDecoder.decode(c));switch(i){case"click":f=e.formatEvent(m);break;case"performance":f=t.formatEvent(m);break;case"mouseexit":f=n.formatEvent(m);break;case"selection":f=a.formatEvent(m)}f&&postMessage(f,null)},this.self=self,this.self.addEventListener("message",this.onMessage.bind(this)),this.onMessage=this.onMessage.bind(this)};
